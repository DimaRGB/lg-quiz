// Generated by CoffeeScript 1.6.3
define({
  index: -1,
  animTime: 80,
  init: function(data) {
    this.data = data != null ? data : {};
    'use strict';
    this.maxIndex = this.data.pages.length;
    this.$quiz = $('.quiz');
    this.$quiz.removeClass('spinner');
    return this;
  },
  renderPage: function(index) {
    'use strict';
    var $answers, page,
      _this = this;
    if (index === this.index || index < 0 || index > this.maxIndex) {
      return;
    }
    this.index = index;
    page = this.data.pages[this.index];
    this.$quiz.find('.question').fadeOut(this.animTime, function() {
      $(this).html(page.question);
      return $(this).fadeIn();
    });
    $answers = this.$quiz.find('.answers');
    return $answers.fadeOut(this.animTime, function() {
      var answer, _i, _len, _ref;
      $answers.empty();
      _ref = page.answers;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        answer = _ref[_i];
        _this.appendAnswer(answer, $answers);
      }
      return $answers.fadeIn();
    });
  },
  appendAnswer: function(answer, $answers) {
    return $('<div class="answer">' + answer + '</div>').appendTo($answers);
  },
  renderFirstPage: function() {
    'use strict';
    return this.renderPage(0);
  },
  renderNextPage: function() {
    'use strict';
    return this.renderPage(this.index + 1);
  },
  renderPrevPage: function() {
    'use strict';
    return this.renderPage(this.index - 1);
  },
  run: function() {
    'use strict';
    var _this = this;
    this.$quiz.find('.answers').on('click', '.answer', function() {
      return _this.renderNextPage();
    });
    return this;
  }
});
